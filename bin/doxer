#!/usr/bin/env node

var program = require('commander')
  , doxer = require('../lib/doxer');

program
  .version(doxer.version)
  .usage('[options] <file ...>')
  .option('-t, --title [title]', 'doxer title, default Doxer')
  .option('-d, --dir [directory]', 'output directory')
  .parse(process.argv);

program.title = program.title || 'Doxer';

if (program.args.length) {
  doxer.process({
    title: program.title,
    files: program.args,
    dir: (program.dir || 'docs').replace(/\/$/, '')
  });  
} else {
  console.log(program.helpInformation());
}