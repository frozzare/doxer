#!/usr/bin/env node

var program = require('commander')
  , doxer = require('../lib/doxer');

program
  .version(doxer.version)
  .usage('[options] <file ...>')
  .option('-t, --title [title]', 'Doxer title')
  .option('-d, --dir [directory]', 'Output directory')
  .parse(process.argv);

if (program.title && program.args.length > 0) {
  doxer.process({
    title: program.title,
    files: program.args,
    dir: program.dir.replace(/\/$/, '') || 'docs'
  });  
} else {
  console.log(program.helpInformation());
}